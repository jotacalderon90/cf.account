<div class="modal fade" tabindex="-1" id="promise_modal_prompt" >
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title"></h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				
			</div>
		</div>
	</div>
</div>

<script>

	const prompt = function(){
	
	}
	
	prompt.prototype.execute = function(title, type, placeholder, value) {
		return new Promise((resolve, reject) => {
			
			const modal = document.getElementById('promise_modal_prompt');
			const modalB = new bootstrap.Modal(modal);
			
			//titulo
			modal.querySelector('.modal-title').textContent = title;
			
			//boton cerrar
			const btnHead = modal.querySelector('.btn-close');
			const newBtn = btnHead.cloneNode(true);
			btnHead.parentNode.replaceChild(newBtn, btnHead);
			newBtn.addEventListener('click', () => {
				modalB.hide();
				resolve('');
			});
			
			//input
			const input = document.createElement('input');
			input.type = type;
			input.value = value || '';
			input.placeholder = placeholder;
			input.classList.add('form-control');
			input.addEventListener('keypress', function(event) {
				if (event.key === 'Enter') {
					modalB.hide();
					resolve(this.value);
				}
			});
			modal.querySelector('.modal-body').innerHTML = '';
			modal.querySelector('.modal-body').appendChild(input);
			input.focus();
			
			modal.addEventListener('shown.bs.modal', function handler() {
				input.focus();
				modal.removeEventListener('shown.bs.modal', handler);
			});

			modalB.show();
		});
	}
	
	app.modules.prompt = prompt;
	
</script>