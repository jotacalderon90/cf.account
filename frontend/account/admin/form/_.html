<!--use:main-->

<!--define:script-->
	<script src="{{data:process.env.HOST_ARCHIVOSPUBLICOS}}/bower_components/ckeditor/ckeditor.js"></script>
	<script>
		const doc = {{data:JSON.stringify(doc.row)}};
	</script>
	<script src="/cms/blog/form/_.js"></script>
<!--/define:script-->

<!--define:main-->
	
	<ol class="breadcrumb">
		<li><a href="/">Home</a></li>
		<li><a href="/{{ctrl.object.name}}?host={{ctrl.object.host}}">{{ctrl.object.name}}</a></li>
		<li class="active">
			<span data-ng-show="ctrl.object.isCreateMode()">
				Nuevo registro
			</span>
			<span data-ng-show="ctrl.object.isEditMode()">
				{{ctrl.object.doc.title}}
			</span>
		</li>
	</ol>
	
	<div class="row">
		<div class="col-md-6 col-md-offset-3">	
			<div class="form-group">
				<label>Título</label>
				<input type="text" class="form-control" placeholder="Título" data-ng-model="ctrl.object.doc.title">
			</div>
			<div class="form-group" data-ng-show="!ctrl.object.isCreateMode()">
				<label>Imagen</label>
				<br>
				<img src="{{data:process.env.HOST_ARCHIVOSPUBLICOS}}/media/img/logo.png" data-ng-src="{{ctrl.object.getImg()}}" height="200" alt="imagen de publicación" title="imagen de publicación"/>
				<form method="post" action="/" data-ng-show="ctrl.object.isEditMode()" enctype="multipart/form-data">
					<input type="file" class="form-control" name="file"/>
					<button type="submit" class="btn btn-primary">subir</button>
				</form>
				<!--
				<label>Img</label>
				<input type="text" class="form-control" data-ng-model="ctrl.object.doc.img" />
				<br>
				<label>Thumb</label>
				<input type="text" class="form-control" data-ng-model="ctrl.object.doc.thumb" />
				-->
			</div>
			<div class="form-group">
				<label>Resumen</label>
				<input type="text" class="form-control" placeholder="Resumen" data-ng-model="ctrl.object.doc.resume" >
			</div>
			<div class="form-group">
				<label>Contenido</label>
				<input type="text" class="form-control" id="input_content" placeholder="Contenido" >
			</div>
			<div class="form-group">
				<label>Tags</label>
				<input id="input_tag" type="text" class="form-control" placeholder="Agregar tag" data-ng-model="ctrl.object.doc.tagbk" data-ng-keypress="ctrl.object.addTag($event)">
				<ul class="list-unstyled list-inline">
					<li data-ng-repeat="row in ctrl.object.doc.tag">
						<span class="label label-default">
							{{row}} 
							<i class="fa fa-close text-danger" data-ng-click="ctrl.object.removeTag($index)"></i>
						</span>
					</li>
				</ul>
			</div>
			<div class="form-group">
				<label>Tag Principal</label>
				<select class="form-control" data-ng-model="ctrl.object.doc.tag_main" >
					<option data-ng-repeat="row in ctrl.object.doc.tag">{{row}}</option>
				</select>
			</div>
			<div class="form-group">
				<label>Habilitado</label>
				<input type="checkbox" data-ng-model="ctrl.object.doc.active">
			</div>
			<hr>
			<button type="button" class="btn btn-primary" title="Crear" data-ng-click="ctrl.object.create()" data-ng-show="ctrl.object.isCreateMode()">
				<i class="fa fa-check"></i>
			</button>
			<button type="button" class="btn btn-success" title="Actualizar" data-ng-click="ctrl.object.update()" data-ng-show="ctrl.object.isEditMode()">
				<i class="fa fa-check"></i>
			</button>
			<button type="button" class="btn btn-danger" title="Eliminar" data-ng-click="ctrl.object.delete()" data-ng-show="ctrl.object.isEditMode()">
				<i class="fa fa-trash"></i>
			</button>
			<a data-ng-href="/{{ctrl.object.name}}?host={{ctrl.object.host}}" class="btn btn-info">
				<i class="fa fa-close"></i>
			</a>
		</div>
	</div>
	
	
<!--/define:main-->